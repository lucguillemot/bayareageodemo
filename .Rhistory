var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
nclass <- 13
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
nclass <- 14
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
nclass <- 15
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
linkage="single"
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
nclass <- 15
linkage="single"
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
nclass <- 14
linkage
source("data/lib_var.R")
source("data/util.R")
source("data/temporalhclust.R")
nclass <- 15
linkage="single"
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
?hclust
source("data/lib_var.R")
source("data/util.R")
source("data/temporalhclust.R")
nclass <- 15
linkage = "single"
source("data/lib_var.R")
source("data/util.R")
source("data/temporalhclust.R")
nclass <- 15
linkage = "single"
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
View(sfbact.cc.st.2014)
sfbact.cc.2014 <- sfbact.cc.2014[!(sfbact.cc.2014$Geo_FIPS == "6055200900")]
View(sfbact.cc.2014)
sfbact.cc.2014 <- sfbact.cc.2014[!(sfbact.cc.2014$Geo_FIPS == "6055200900"),]
sfbact.cc.2014 <- sfbact.cc.2014[!(sfbact.cc.2014$Geo_FIPS == "6055200900"),]
sfbact.cc.2013 <- sfbact.cc.2013[!(sfbact.cc.2013$Geo_FIPS == "6055200900"),]
source("data/lib_var.R")
source("data/util.R")
source("data/temporalhclust.R")
nclass <- 15
linkage = "complete"
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
source("data/lib_var.R")
source("data/util.R")
source("data/temporalhclust.R")
nclass <- 15
linkage = "complete"
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
var <- get(paste("sfbact.cc.", years[i], sep = ""))
exportTempVarData(var, years.thclust, years[i])
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
View(sfbact.cc.2014)
View(years.thclust)
source("data/lib_var.R")
source("data/util.R")
source("data/temporalhclust.R")
nclass <- 15
linkage = "complete"
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
sfba.var.cl <- paste("sfba.var.cl.", years[i], sep = "")
var <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfba.var.cl,
exportTempVarData(var, years.thclust, years[i]),
env = .GlobalEnv)
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
View(sfba.var.cl.2014)
str(sfba.var.cl.2014)
unique(sfba.var.cl.2014$cluster)
View(sfba.var.cl.2014)
range01 <- function(x){(x-min(x))/(max(x)-min(x))}
View(sfba.var.cl.2014)
sfba.var.cl.2014[1]
sfba.var.cl.2014[2]
sfba.var.cl.2014[12]
sfba.var.cl.2014[2, 12, 20]
sfba.var.cl.2014[c(2, 12, 20)]
sfba.var.cl.2014 <- apply(sfba.var.cl.2014[c(2, 12, 20)], MARGIN=2, FUN=range01)
sfba.var.cl.2013 <- as.data.frame(apply(sfba.var.cl.2013[c(2, 12, 20)], MARGIN=2, FUN=range01))
View(sfba.var.cl.2013)
?rbind
View(sfba.var.cl.2014)
sfba.var.cl.ranging <- as.data.frame(apply(sfba.var.cl.2012[c(2, 12, 20)], MARGIN=2, FUN=range01))
sfba.var.cl.2013$density <- NULL
sfba.var.cl.2013$medianAge <- NULL
sfba.var.cl.2013$perCapitaIncome <- NULL
sfba.var.cl <- cbind(sfba.var.cl.2013, sfba.var.cl.ranging)
View(sfba.var.cl.ranging)
View(sfba.var.cl.2013)
sfba.var.cl <- cbind(sfba.var.cl.2012, sfba.var.cl.ranging)
View(sfba.var.cl)
sfba.var.cl.2012$density <- NULL
sfba.var.cl.2012$medianAge <- NULL
sfba.var.cl.2012$perCapitaIncome <- NULL
sfba.var.cl <- cbind(sfba.var.cl.2012, sfba.var.cl.ranging)
View(sfba.var.cl)
sfba.var.cl$year.y <- NULL
View(sfba.var.cl)
names(sfba.var.cl$year.x) <- "year"
View(sfba.var.cl)
View(sfba.var.cl)
colnames(sfba.var.cl)[which(names(sfba.var.cl) == "year.x")] <- "year"
View(sfba.var.cl)
View(sfba.var.cl.2009)
View(years.thclust)
View(sfba.var.cl)
sfba.var.cl <- sfba.var.cl[, c(1, 23, 2:10, 24, 11:17, 25, 18:20)]
View(sfba.var.cl)
source("data/lib_var.R")
source("data/util.R")
source("data/temporalhclust.R")
nclass <- 15
linkage = "complete"
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
sfba.var.cl <- paste("sfba.var.cl.", years[i], sep = "")
var <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfba.var.cl,
exportTempVarData(var, years.thclust, years[i]),
env = .GlobalEnv)
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
source("data/lib_var.R")
source("data/util.R")
source("data/temporalhclust.R")
nclass <- 15
linkage = "complete"
# # # # # # # # # # # # # # # # # #
# # # All years together # # # # #
# # # # # # # # # # # # # # # # # #
for (i in 1:length(years)) {
# Create a data frame with variables for each year
sfbact.cc <- paste("sfbact.cc.", years[i], sep = "")
assign(sfbact.cc,
readAndParse(years[i], files[i]),
env = .GlobalEnv)
# Standardize data (square root + range standardization)
sfbact.cc.st <- paste("sfbact.cc.st.", years[i], sep = "")
cc <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfbact.cc.st,
standardizeData(cc),
env = .GlobalEnv)
}
# Perform (temporal) hierarchical clustering
years.thclust <- temporalClustering(sfbact.cc.st.2009,
sfbact.cc.st.2010,
sfbact.cc.st.2011,
sfbact.cc.st.2012,
sfbact.cc.st.2013,
sfbact.cc.st.2014)
for (i in 1:length(years)) {
# Export csv data file with raw data + cluster number
# used in the d3 plot of raw variables
sfba.var.cl <- paste("sfba.var.cl.", years[i], sep = "")
var <- get(paste("sfbact.cc.", years[i], sep = ""))
assign(sfba.var.cl,
exportTempVarData(var, years.thclust, years[i]),
env = .GlobalEnv)
# Calculate means, distances to the mean
# and export data for the radar plot
st <- get(paste("sfbact.cc.st.", years[i], sep = ""))
radarPlotTempData(st, years.thclust, years[i])
}
?hclust
